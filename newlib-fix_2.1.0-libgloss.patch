<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Newlib 2.1.0 not building -->
<!--X-From-R13: Othfgva Vramr <gvaNqrovna.bet> -->
<!--X-Date: 3 Jan 2014 14:41:03 &#45;0000 -->
<!--X-Message-Id: 52C6CBF9.1080209@debian.org -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: CAK7YJbJtPwNNzy0Ww7KuTOSeRZ5xR0Ai0hnGwT8u+Nfn145KBQ@mail.gmail.com -->
<!--X-Derived: msg00001 -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>Agustin Henze - Re: Newlib 2.1.0 not building</TITLE>
</HEAD>
<BODY>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--htdig_noindex-->
<p>This is the mail archive of the 
<tt>newlib@sourceware.org</tt>
mailing list for the <a href="ftp://sourceware.org/pub/newlib/">newlib project</a>.


<!--/htdig_noindex-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<!--htdig_noindex-->
<HR>
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00001">Date&nbsp;Index</A>] [<a href="subjects.html#00001">Subject&nbsp;Index</a>] [<a href="authors.html#00001">Author&nbsp;Index</a>] [<A HREF="threads.html#00001">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00000.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00002.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00000.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00009.html">Thread&nbsp;Next</A>]</td>
  </tr>
  <tr><th align="left">Other format:</th>
  <td>[<a href="/cgi-bin/get-raw-msg?listname=newlib&date=2014&msgid=52C6CBF9.1080209%40debian.org">Raw text</a>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Newlib 2.1.0 not building</h1>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: Agustin Henze &lt;tin at debian dot org&gt;</li>
<li><em>To</em>: newlib at sourceware dot org</li>
<li><em>Date</em>: Fri, 03 Jan 2014 11:40:57 -0300</li>
<li><em>Subject</em>: Re: Newlib 2.1.0 not building</li>
<li><em>Authentication-results</em>: sourceware.org; auth=none</li>
<li><em>References</em>: &lt;CAK7YJbJtPwNNzy0Ww7KuTOSeRZ5xR0Ai0hnGwT8u+Nfn145KBQ at mail dot gmail dot com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 12/27/2013 05:12 PM, Legimet  wrote:
&gt; Hi, I think I found a bug in Newlib 2.1.0. I tried building with the following:
&gt; ./configure --target=arm-none-eabi --prefix=/usr/local
&gt; --enable-interwork --enable-multilib --with-gnu-as --with-gnu-ld
&gt; --disable-nls --with-float=soft --disable-werror
&gt; 
&gt; But when make enters arm-none-eabi/thumb/libgloss/arm/cpu-init, the
&gt; build fails with the message
&gt; *** No rule to make target
&gt; `../../../.././libgloss/arm/../config/default.mh', needed by
&gt; `Makefile'.  Stop.

I confirm, I get the same error. Please find attached a patch that I applied to
fix this.

Cheers,

-- 
TiN
</pre><pre>From: Agustin Henze &lt;tin@debian.org&gt;
Date: Fri, 3 Jan 2014 11:29:55 -0300
Subject: [PATCH] Fix wrong path to libgloss/config/default.mh

---
 libgloss/arm/cpu-init/Makefile.in | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/libgloss/arm/cpu-init/Makefile.in b/libgloss/arm/cpu-init/Makefile.in
index 547c58d..d63149f 100644
--- a/libgloss/arm/cpu-init/Makefile.in
+++ b/libgloss/arm/cpu-init/Makefile.in
@@ -18,6 +18,7 @@ libdir = @libdir@
 tooldir = $(exec_prefix)/$(target_alias)
 
 objtype = @objtype@
+host_makefile_frag = $(srcdir)/../../config/default.mh
 
 INSTALL = @INSTALL@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
@@ -80,7 +81,7 @@ info:
 install-info:
 clean-info:
 
-Makefile: Makefile.in ../config.status @host_makefile_frag_path@
+Makefile: Makefile.in ../config.status ${host_makefile_frag_path}
 	$(SHELL) ../config.status --file cpu-init/Makefile
 
 ../config.status: ../configure
-- 
1.8.5.2

</pre><p><strong>Attachment:
<a href="msg00001/signature.asc" ><tt>signature.asc</tt></a></strong><br>
<em>Description:</em> OpenPGP digital signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00009" href="msg00009.html">Re: Newlib 2.1.0 not building</a></strong>
<ul><li><em>From:</em> Jeff Johnston</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<!--htdig_noindex-->
<table border="0">
  <tr><th align="left">Index Nav:</th>
      <td colspan="2">
        [<A HREF="index.html#00001">Date&nbsp;Index</A>] [<a href="subjects.html#00001">Subject&nbsp;Index</a>] [<a href="authors.html#00001">Author&nbsp;Index</a>] [<A HREF="threads.html#00001">Thread&nbsp;Index</A>]
      </td>
  </tr>
  <tr><th align="left">Message Nav:</th>
      <td>[<A HREF="msg00000.html">Date&nbsp;Prev</A>]&nbsp;[<A HREF="msg00002.html">Date&nbsp;Next</A>]</td>
      <td>[<A HREF="msg00000.html">Thread&nbsp;Prev</A>]&nbsp;[<A HREF="msg00009.html">Thread&nbsp;Next</A>]</td>
  </tr>
</table>
<!--/htdig_noindex-->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
